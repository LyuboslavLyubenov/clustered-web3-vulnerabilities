# Cluster -1008

**Rank:** #253  
**Count:** 36  

## Label
Outdated function calls fail to align with updated EVM standards, causing transaction failures, incorrect execution, or security vulnerabilities across chains.

## Cluster Information
- **Total Findings:** 36

## Examples

### Example 1

**Auto Label:** Failure to specify EVM version leads to bytecode incompatibility, causing deployment or execution failures on chains that lack support for new EVM opcodes.  

**Original Text Preview:**

The contracts use solidity version `0.8.20`, which introduces the `PUSH0` opcode. This opcode is not present on Arbitrum. The `foundry.toml` file doe not specify any `evm_version`, so the contracts are compiled with the default `paris` version, which does not generate `PUSH0` opcodes, so the contracts are fine in the current state.

However if the `evm_version` is changed to `shanghai` or later, contracts will fail to deploy on Arbitrum due to the `PUSH0` opcodes.

It is recommended to either roll back the compiler version to `0.8.19` or earlier, or to specify the `evm_version=paris` in the `foundry.toml` file, to prevent any mistakes with the evm_version in the future.

---
### Example 2

**Auto Label:** Failure to specify EVM version leads to bytecode incompatibility, causing deployment or execution failures on chains that lack support for new EVM opcodes.  

**Original Text Preview:**

##### Description
The contract uses Solidity compiler version 0.8.0, which may generate bytecode with PUSH0 opcodes:
- Solc 0.8.20 defaults to Shanghai EVM version
- PUSH0 opcode not supported on all blockchain networks
- Risk of deployment failures on certain L2 chains or alternative networks

The issue is classified as **Low** severity because it does not affect contract functionality but could prevent successful deployment on some blockchain environments.

##### Recommendation
We recommend:
- Explicitly specify an EVM version compatible with target deployment chains
- Test deployment across intended blockchain networks
- Verify deployment compatibility before mainnet launch

---
### Example 3

**Auto Label:** Failure to specify EVM version leads to bytecode incompatibility, causing deployment or execution failures on chains that lack support for new EVM opcodes.  

**Original Text Preview:**

##### Description

Solc compiler `version 0.8.20` switches the default target EVM version to Shanghai. The generated bytecode will include **PUSH0** opcodes. The recently released Solc compiler `version 0.8.25` [switches the default target EVM version to Cancun](https://soliditylang.org/blog/2024/03/14/solidity-0.8.25-release-announcement/), so it is also important to note that it also adds-up new opcodes such as **TSTORE**, **TLOAD** and **MCOPY**.

##### BVSS

[AO:A/AC:L/AX:L/C:N/I:N/A:N/D:N/Y:N/R:N/S:C (0.0)](/bvss?q=AO:A/AC:L/AX:L/C:N/I:N/A:N/D:N/Y:N/R:N/S:C)

##### Recommendation

It is important to consider the targeted deployment chains before writing immutable contracts because, in the future, there might exist a need for deploying the contracts in a network that could not support new opcodes from Shanghai or Cancun EVM versions.

##### Remediation

**ACKNOWLEDGED:** The **Jigsaw Finance team** indicated that they decided that not to deploy our contracts to the chains that will not support PUSH0 opcode.

---
